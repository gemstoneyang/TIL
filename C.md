# 포인터와 배열

## 번지 연산

### 기초적인 번지 연산

- p가 배열의 어떤 요소에 대한 포인터라면 p++는 p가 다음 요소를 가리키게 한다.
- p += i는 현재의 요소로부터 i번째 요소를 가리키게 한다.

### 포인터의 성질

- 포인터는 다른 변수와 마찬가지로 초깃값을 설정할 수 있다.
- 포인터와 정수형은 바꾸어 사용할 수 없게 되어 있지만 포인터에서 0은 사용할 수 있다.
- 포인터의 값을 0으로 할 수도 있고 포인터와 0을 비교할 수도 있다.
- 0 대신 NULL을 사용할 수도 있으며 NULL은 <stdio.h>에 정의되어 있다.
- 포인터의 값을 비교할 수 있다.
    - p와 q가 같은 배열 내의 원소를 가리키는 포인터라면 비교연산자를 통해 비교를 할 수 있다.
    - 포인터를 0과 비교하는 것은 항상 가능하다.
    - 같은 배열의 원소를 가리키지 않는 두 포인터에 대한 비교나 연산의 결과는 아무 의미가 없다.
        - 예외적으로 배열의 긑과 바로 다음의 원소는 비교 가능하다.
- 포인터에 어떤 정수를 더하거나 뺄 수 있다.
    - p + n은 p가 가리키는 대상체의 n번째 다음 요소를 말한다.
    - p가 가리키는 대상체의 종류에 관계없이 n번째 다음이므로 실제 몇 바이트 뒤에 있는지를 컴파일러가 계산하게 된다.
        - 만약 p가 4바이트 정수라면 n번째 정수는 4n 바이트 뒤에 있게 된다.
    - p와 q가 같은 배열의 원소를 가리키고 있고 p < q라면 q-p+1은 p와 q 사이 원소의 개수가 된다.
- 포인터에 포인터를 더하거나 뺄 수 없고, 포인터에 실수를 더하거나 빼서도 안되며 곱셈이나 나눗셈을 해서도 안 된다.
- 포인터에 비트 연산을 해서도 안 된다.
- cast 연산자 없이 어떤 형의 포인터를 다른 형의 포인터로 사용하면 안 된다. (void는 예외)

### ptrdiff_t와 size_t

- <stdio.h>에는 ptrdiff_t라는 두 포인터의 위치 차이를 나타내는 형(type)을 정의하고 있음.
    - ptrdiff_t는 음의 값을 가질 수 있다.
- size_t는 sizeof 연산자에 의해 리턴되는 부호 없는 정수형 변수이다.